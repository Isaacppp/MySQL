/*CASE 1*/

--when setting up trigger, it will change database, so consider to COMMIT first
USE database;

COMMIT;

--setup trigger before inserting data
DELIMITER $$

CREATE TRIGGER trigger_name
BEFORE INSERT ON table_name
FOR EACH ROW --the affect on each row
BEGIN
	IF NEW.data < 0 THEN
			SET NEW.data = 0;
	END IF;
END $$

DELIMITER ;

/*CASE 2*/
--Create a trigger that checks if the hire date of an employee is higher than the current date.
--If true, set this date to be the current date. Format the output appropriately (YY-MM-DD).

DELIMITER $$

CREATE TRIGGER check_hire_date
BEFORE INSERT ON employees
FOR EACH ROW
BEGIN
	IF NEW.hire_date > DATE_FORMAT(SYSDATE(),'%Y-%M-%D') THEN
		SET NEW.hire_date = DATE_FORMAT(SYSDATE(),'%Y-%M-%D');
	END IF;
END$$

DELIMITER ;
